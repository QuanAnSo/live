# 配置RTS转码

本文档为您介绍了配置RTS转码的操作步骤及说明，使用低延时直播的播流域名需要进行此操作。

低延时直播（[RTS](https://www.aliyun.com/ntms/lowlatencylive)）播放SDK对音视频解码有些特殊要求，例如：

-   不支持视频含B帧，否则会出现画面跳跃。
-   H5 SDK不支持AAC编码，否则会出现噪音。

建议您使用RTS低延时直播时推流配置为不含B帧，如果您无法控制直播推流输入情况，可以使用此转码功能自定义转码的分辨率、帧率、码率、音频编码格式、B帧等参数。

1.  登录[视频直播控制台](https://live.console.aliyun.com/)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，找到目标播流域名并单击其操作列的**域名配置**。

    ![域名列表](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9790875061/p184057.png)

4.  在**模板配置** \> **转码模板配置**中，单击**RTS转码**页签，并单击**添加**。

    ![添加RTS转码模板](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8403585061/p184168.png)

5.  在**转码模板**中，添加相关转码参数。

    ![添加转码模板](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8403585061/p184172.png)

    参数介绍如下：

    |参数|描述|
    |--|--|
    |AppName|转码模板应用名称。 同一域名下、同一模板类型中，**AppName**可以相同，但**模板ID**不可相同。 |
    |模板类型|转码模板类型。 标准转码与窄带高清转码质量和性能不同，价格也不同。原画模板不对视频进行处理。纯音频转码模板删除视频只输出OPUS音频流。 |
    |分辨率|视频输出的分辨率。     -   不同的分辨率档位对应不同的价格。分辨率档位参考如下：
        -   LD：（640×480）及以下

        -   SD：（1280×720）及以下

        -   HD：（1920×1080）及以下

        -   2K：（2560×1440）及以下

        -   4K：（3840×2160）及以下

**说明：** RTS转码计费根据分辨率档位（LD、SD、HD、2K、4K）决定，与通用模板ID中的标准转码模板ID（包括lld、lsd、lhd、lud）和窄带高清 TM 转码模板ID（包括ld、sd、hd、ud）无关，请您不要混淆。

    -   分辨率档位判定规则：输出规格按输出视频分辨率的长边和短边是否属于输出规格划定的范围进行判定。以输出SD（1280×720）规格为例：
        -   如果输出视频的分辨率长边小于等于1280且短边小于等于720，则该视频属于该输出规格。

        -   如果输出视频的长边大于1280或输出视频的短边大于720，则该输出视频属于更高的输出规格。

    -   添加模板后，输出的直播地址后携带模板ID参数即可访问指定分辨率的转码流。 |
    |视频码率|分辨率指定的码率。 码率参考如下：

     -   LD：100kbps~800kbps

    -   SD：200kbps~1500kbps

    -   HD：500kbps~4000kbps

    -   2K：2000kbps~8000kbps

    -   4K：4000kbps~30000kbps |
    |视频帧率|输出视频帧率，数值低于或等于输入帧率。|
    |视频GOP|输出视频GOP即Group of picture（图像组），指两个I帧之间的间隔，数值低于或等于输入值。为了保障低延时效果不能大于3秒。|
    |去B帧|开启时：输出视频编码将不含B帧。|
    |OPUS转码|开启时：输出音频编码将改成OPUS编码，48KHz采样率。|
    |触发转码|    -   开启时：首次拉流时才启动转码。
    -   关闭时：只要有推流就启动转码，与是否有拉流无关。 |
    |模板ID|转码模板ID。 **说明：** 模板ID会携带在播放地址中。自定义模板ID时，请不要设置与通用模板ID相同。原画模板如选择去B帧，推流过程中不建议提升分辨率有可能会导致卡顿。 |


