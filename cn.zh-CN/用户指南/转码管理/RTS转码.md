# RTS转码

## 配置RTS转码

低延时直播[RTS介绍](https://www.aliyun.com/ntms/lowlatencylive) 播放SDK对音视频解码有些特殊要求，例如不支持视频含B帧否则会出现画面跳跃，例如H5 SDK不支持AAC编码否则会出现噪音。建议您使用RTS低延时直播时推流就不含B帧，如果您无法控制直播推流输入情况，可以使用此转码功能自定义转码的分辨率、帧率、码率、音频编码格式、B帧等参数。

1.  登录 [视频直播控制台](https://live.console.aliyun.com/)。
2.  单击 **域名管理**。
3.  选择所需的主播流域名，并单击 **域名配置**。子域名配置转码无效。

    ![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/2493600061/p68665.png)

4.  在 **模板配置，转码模板配置** 中，选择 **RTS转码**，并单击 **添加**。

    ![1](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6314649951/p132791.png)

5.  在 **转码模板** 中，添加相关转码参数。

    ![1](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6314649951/p132793.png)

    -   **AppName**：转码模板应用名称。

        同一域名下、同一模板类型中，**AppName** 可以相同，但 **模板ID** 不可相同。

    -   **模板类型**：转码模板类型。

        标准转码与窄带高清转码质量和性能不一样，价格也不一样。原画模板不对视频进行处理。纯音频转码模板删除视频只输出OPUS音频流

    -   **分辨率**：视频输出的分辨率。
        -   不同的分辨率档位对应不同的价格。分辨率档位参考如下：
            -   LD：（640X480）及以下

            -   SD：（1280X720）及以下

            -   HD：（1920X1080）及以下

            -   2K：（2560X1440）及以下

            -   4K：（3840X2160）及以下

**说明：** RTS转码计费根据分辨率档位（LD、SD、HD、2K、4K）决定，与通用模板ID中的标准转码模板ID（包括ld、sd、hd、ud）和窄带高清 TM转码模板ID（包括lld、lsd、lhd、lud）无关，请您不要混淆。

        -   分辨率档位判定规则：输出规格按输出视频分辨率的长边和短边是否属于输出规格划定的范围进行判定。以输出SD（1280X720）规格为例：
            -   如果输出视频的分辨率长边小于等于1280且短边小于等于720，则该视频属于该输出规格。

            -   如果输出视频的长边大于1280或输出视频的短边大于720，则该输出视频属于更高的输出规格。

        -   添加模板后，输出的直播地址后携带模板ID参数即可访问指定分辨率的转码流。
    -   **视频码率**：分辨率指定的码率。

        码率参考如下：

        -   LD：100~800kbps

        -   SD：200~1500kbps

        -   HD：500~4000kbps

        -   2K：2000~8000kbps

        -   4K：4000~30000kbps

    -   **视频帧率**：输出视频帧率，数值低于或等于输入帧率。

    -   **视频GOP**：输出视频GOP即Group of picture（图像组），指两个I帧之间的间隔，数值低于或等于输入值。为了保障低延时效果不能大于3秒。

    -   **去B帧**：输出视频编码将不含B帧。

    -   **OPUS转码**：输出音频编码将改成OPUS编码，48KHz采样率。

    -   **模板ID**：转码模板ID。

**说明：** **模板ID** 会携带在播放地址中。自定义模板ID时，请您不要设置与通用模板ID相同。

原画模板如选择去B帧，推流过程中不建议提升分辨率有可能会导致卡顿。


