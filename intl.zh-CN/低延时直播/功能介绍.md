功能介绍 
=========================

低延时直播是视频直播的重要增值功能，提供易接入、毫秒级别延迟、高并发、高清流畅的音视频直播服务。本文为您介绍低延时直播的简介、架构、适用场景、计费说明及使用指南。

简介 
-----------------------

低延时直播RTS（Real-time Streaming），在阿里云视频直播（ApsaraVideo Live）的基础上，进行全链路延时监控、CDN传输协议改造、UDP等底层技术优化，通过集成直播播放端SDK，支持 **千万级并发场景下的毫秒级延时直播** 能力，弥补了传统直播使用3\~6秒延时的问题，保障低延时、低卡顿、秒开流畅的极致直播观看体验。

功能架构 
-------------------------

低延时直播仅需在现有的直播业务上，新增一个RTS播流域名，实现多种协议拉流。架构如下：

![1](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0456775061/p134331.png)

* 推流：直播推流端继续沿用RTMP方式推流。

  

* 拉流：

  * 标准直播拉流（RTMP、FLV、HLS）沿用原有`rtmp://`和`http://`格式。

    
  
  * 低延时直播拉流（UDP）使用新协议头`artc://`。

    
  

  




适用场景 
-------------------------

* 教育直播

  大班课可以支持超大规模的同学同时在线低延时与老师互动。
  

* 电商直播

  实时与买家互动答疑，交流商品信息。
  

* 体育直播

  精彩竞技、电竞等赛事，让观众实时了解现场情况。
  

* 互动娱乐

  及时反馈增强互动，极大优化了观众送礼时的嘉宾反馈互动体验。
  




计费说明 
-------------------------

低延时直播按新价格计费，不同于标准直播价格，计费规则，请参见[视频直播产品定价页](https://www.alibabacloud.com/product/apsaravideo-for-live/pricing?spm=a2796.132647.1341869000.1.193b474d0iXruV)。
**说明**



* 某路拉流使用低延迟协议，计费到低延迟直播收费项，不会再计费一遍标准直播计费项，不存在叠加计费。

  

* 计费规则与目前所选标准直播一致，例如都是流量方式，或都是带宽方式。

  

* 计费规则变更与标准直播操作一致，同步生效。

  




使用指南 
-------------------------

1. 开通低延时直播RTS服务

   暂不支持通过控制台自助开通RTS功能，需要在[直播控制台](https://live.console.aliyun.com/#/domain/add/input/)添加好相关域名后，通过工单方式申请。
   **注意**

   暂不支持和普通直播（RTMP、FLV、HLS）共用一个播流域名，需单独开通一个播流域名。

   申请时，请提供如下信息：
   * 全新业务：需提交推拉关联成功后的推流域名（新）、低延时播流域名（新）。关联域名具体操作，请参见[关联推流和播流域名](/intl.zh-CN/用户指南/推播流配置/关联推流和播流域名.md)。

     
   
   * 复用旧业务：需提交推拉和主子关联成功后的推流域名（原）、普通播流域名（原）、低延时播流域名（新）。新原播流域名主子关联具体操作，请参见[关联主子播流域名](/intl.zh-CN/用户指南/推播流配置/关联主、子播流域名.md)。

     
   

   

2. 推流

   具体操作，请参见[PC端推流与播流]()。

   视频源要求：源码流不支持B帧（会出现画面跳跃）、H265编码，GOP不大于3秒（会增加延迟）。如您无法控制源码流参数可以使用[RTS转码](/intl.zh-CN/用户指南/转码管理/配置RTS转码.md)服务来调整参数。转码将带来几百毫秒的延时增加。
   

3. 播流

   具体操作，请参见[PC端推流与播流]()。
   * 播放器要求：低延时直播使用UDP协议，需要特殊播放器。移动端播放器需要版本不低于`5.1.5`，H5 RTS SDK版本不低于`1.1.0`。

     
   
   * RTS播流地址：

     * 播流地址的拼接方法与普通直播一致，需要使用新的协议头`artc://`来区分。

       例如：`artc://播放域名/AppName/StreamName?鉴权串`。更多信息，请参见[推流地址与播流地址（原画）](/intl.zh-CN/用户指南/推播流配置/推流地址和播流地址/推流地址与播流地址（原画）.md)。
       
     
     * H5 SDK音频不支持AAC，所以需使用RTS转码功能转成Opus格式，移动端不受此影响。因此H5 SDK需要使用转码播流地址。

       例如：`artc://播放域名/AppName/StreamName{_转码模板id}?鉴权串`。更多信息，请参见[推流地址和播流地址（转码）](/intl.zh-CN/用户指南/推播流配置/推流地址和播流地址/推流地址和播流地址（转码）.md)。
       
     

     
   

   

4. 直播录制

   低延时直播的录制，方法同普通直播域名的录制配置方式，配置后会自动录制保存到OSS或者VOD。具体操作，请参见[直播录制存储至OSS](/intl.zh-CN/用户指南/录制管理/录制存储至OSS/直播录制存储至OSS.md)和[直播录制存储至VOD](/intl.zh-CN/用户指南/录制管理/录制存储至VOD/直播录制存储至VOD.md)。
   



